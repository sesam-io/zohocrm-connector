{
  "_id": "{{@ system @}}",
  "oauth2": {
    "access_token": "$SECRET(oauth_access_token)",
    "client_id": "$SECRET(oauth_client_id)",
    "client_secret": "$SECRET(oauth_client_secret)",
    "refresh_token": "$SECRET(oauth_refresh_token)",
    "token_url": "{{@ token_url @}}"
  },
  "operations": {
    "account-delete": {
      "method": "DELETE",
      "url": "Accounts/{{ entity['$source']['id'] }}"
    },
    "account-lookup": {
      "method": "GET",
      "payload_property": "data",
      "url": "Accounts/{{ entity['$source']['id'] }}"
    },
    "account-upsert": {
      "method": "POST",
      "payload_property": "data",
      "url": "Accounts/upsert"
    },
    "contact-delete": {
      "method": "DELETE",
      "url": "Contacts/{{ entity['$source']['id'] }}"
    },
    "contact-lookup": {
      "method": "GET",
      "payload_property": "data",
      "url": "Contacts/{{ entity['$source']['id'] }}"
    },
    "contact-upsert": {
      "method": "POST",
      "payload_property": "data",
      "url": "Contacts/upsert"
    },
    "deal-delete": {
      "method": "DELETE",
      "url": "Deals/{{ entity['$source']['id'] }}"
    },
    "deal-lookup": {
      "method": "GET",
      "payload_property": "data",
      "url": "Deals/{{ entity['$source']['id'] }}"
    },
    "deal-upsert": {
      "method": "POST",
      "payload_property": "data",
      "url": "Deals/upsert"
    },
    "list-records": {
      "method": "GET",
      "next_page_link": "{% if body.info is defined and body.info.next_page_token is defined and body.info.next_page_token %}{{ properties.module }}?fields={{ properties.fields }}&sort_order=asc&sort_on=Modified_Time&per_page=10&page_token={{ body.info.next_page_token }}{% else %}{% endif %}",
      "since_property_location": "header",
      "since_property_name": "If-Modified-Since",
      "updated_expression": "{{ entity.Modified_Time }}",
      "url": "{{ properties.module }}?fields={{ properties.fields }}&per_page=10&sort_order=asc&sort_on=Modified_Time"
    },
    "upsert": {
      "method": "POST",
      "payload-type": "json",
      "payload_property": "data",
      "url": "{{ properties.module }}/upsert"
    }
  },
  "type": "system:rest",
  "url_pattern": "https://www.zohoapis.eu/crm/v3/%s",
  "verify_ssl": true
}